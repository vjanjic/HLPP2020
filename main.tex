\documentclass[runningheads]{llncs}

\usepackage{booktabs} % For formal tables

\usepackage{amsmath}
\usepackage{tikz}
\usepackage{pgfplots}
\pgfplotsset{compat=1.3}
\usepackage{graphicx, epsfig}
\usepackage{xspace}  %% Package used for the \NB{} abbreviation
\usepackage{algorithm}
\usepackage{algpseudocode}
\usepackage{color}
\usepackage{url}
\usepackage{hyperref}
\usepackage{listings}
\usepackage{tikz}% http://ctan.org/pkg/pgf
\usetikzlibrary{calc}
\usepackage{amssymb,amsmath}
%\lstset{
%  basicstyle=\small\ttfamily,
%  columns=fullflexible,
%}

\lstset{language=C++,
 basicstyle=\ttfamily\scriptsize, %aboveskip={-5ex},
 columns=fullflexible,
%basicstyle={\ttfamily\singlespacing},aboveskip={-4ex},
 keywordstyle=\color{blue}\ttfamily,
 stringstyle=\color{red}\ttfamily,
 commentstyle=\color{cyan}\ttfamily,
 captionpos=t,
  %numbers=none, %left,
 numbers=left,
  %numberstyle=\scriptsize,
  %stepnumber=1,
  %numbersep=6pt,
  showstringspaces=false,
  breaklines=true,
  frame=lines,
  otherkeywords={[[,]],::,constexpr},
  emph={rpr,kernel,target,in,out,pipeline,stream,farm,pipe,map,sync,async, rprmv, base, split, unroll, Pipeline, Farm, parallel_execution_ff},
  emphstyle={\color{magenta}\bfseries}
}


% Copyright
%\setcopyright{none}
%\setcopyright{acmcopyright}
%\setcopyright{acmlicensed}
%\setcopyright{rightsretained}
%\setcopyright{usgov}
%\setcopyright{usgovmixed}
%\setcopyright{cagov}
%\setcopyright{cagovmixed}


% DOI
%\acmDOI{10.475/123_4}

% ISBN
%\acmISBN{123-4567-24-567/08/06}

%\acmArticle{4}
%\acmPrice{15.00}

% These commands are optional
%\acmBooktitle{Transactions of the ACM Woodstock conference}
%\editor{Jennifer B. Sartor}
%\editor{Theo D'Hondt}
%\editor{Wolfgang De Meuter}


\begin{document}
\title{Restoration of Legacy Parallelism}
%
%\titlerunning{Abbreviated paper title}
% If the paper title is too long for the running head, you can set
% an abbreviated paper title here
%
\author{Vladimir Janjic\inst{1}\orcidID{0000-1111-2222-3333} \and
Christopher Brown\inst{2}\orcidID{1111-2222-3333-4444} \and
Adam Barwell\inst{2}\orcidID{2222--3333-4444-5555}}
%
\authorrunning{V. Janjic et al.}
% First names are abbreviated in the running head.
% If there are more than two authors, 'et al.' is used.
%
\institute{The University of Dundee, Scotland, UK \\
\email{vjanjic001@dundee.ac.uk}
\and
The University of St Andrews, Scotland, UK. \\
\email{cmb21@st-andrews.ac.uk, adb32@st-andrews.ac.uk}}
%
\maketitle              % typeset the header of the contribution
%
\begin{abstract}
    \emph{Parallel patterns} are a high-level programming paradigm that enables non-experts in parallelism to develop structured parallel programs that are maintainable, adaptive and portable whilst also achieving good performance on a variety of parallel systems. However, there still exists a large base of \emph{legacy-parallel code} that was developed using ad-hoc methods and incorporating low-level parallel/concurrency libraries such as \emph{pthreads} without any parallel patterns in the fundamental design. This code would benefit from being restructured and rewritten into pattern-based code. However, the process of rewriting the code is tedious and error-prone, due to XX. In this paper, we present the first step towards semi-automatic rewriting of the legacy-parallel code into the pattern-based structured code. We describe refactorings to \emph{eliminate} ad-hoc parallelism from the code, effectively \emph{sequentialising} the code behaviour and resetting its structure. We demonstrate our restoration technique on a number of benchmarks  (taken from the Parsec benchmark suite) so that we are able to eliminate ad-hoc parallelism from the code based on \emph{pthreads}, allowing us to introduce patterned parallelism in the resulting code.

\keywords{Parallel patterns, restoration, pthreads, refactoring, code analysis}
\end{abstract}

%
% The code below should be generated by the tool at
% http://dl.acm.org/ccs.cfm
% Please copy and paste the code instead of the example below.
%

\input{main-body}

\bibliographystyle{ACM-Reference-Format}
\bibliography{pact2019}

\end{document}
